决策树
---------------------------
+ 决策树模型可以理解为
    * if-then规则的集合
    * 定义在**特征空间**与**类空间**上条件概率分布
+ 学习步骤
    * 特征选择
    + 决策树生成
        * 考虑局部最优
    + 剪枝（pruning）
        * 考虑全局最优
+ 算法类型
    + ID3
        * 信息增益
        * 相当于用极大似然法进行概率模型的选择
        * 没用剪枝，容易过拟合
    + C4.5
        * 信息增益比
    + CART
        + 建议看这个博客
            * [决策树的生成与剪枝CART](https://zhuanlan.zhihu.com/p/145215188)
+ 【决策树 路径 或 if-then 规则】的【互斥完备】性质
    * 每个instance被一条路径和规则覆盖
    * 只被一个规则覆盖
    * 覆盖指的是【实例的特征与路径上的特征一致，或实例满足规则的条件】
+ 条件概率分布
    * 在每个单元定义一个类的概率分布，构成一个条件概率分布
    * 条概表示为$P(Y|X)$，$X$取决于划分下单元的集合
    * 分类时会将结点的实例强行分到条件概率大的那一类中
+ 特征选择
    + 条件熵$H(Y|X)$表示已知随机变量$X$时$Y$的不确定性
        + $H(Y|X)=-\Sigma_{i=1}^n p_iH(Y|X=x_i)$
            * $p_i$我觉得可以理解为结点分裂后各个子集的**频率**统计
            * 如，100个样本在特征$A$分割点分裂为30和70两组样本，$p_1=0.3, p_2=0.7$
    + 随机变量$X$的entropy
        * $H(X)=-\Sigma p\log p$
        * $-\log p$其实是信息量，熵是信息量的期望
        * 熵越大，越无序，越不确定，方差越大
    + 概率计算方法
        * 数据估计（极大似然估计）
        * 称为经验熵 empirical entropy
    + 信息增益
        * 表示得知特征X的信息使得类Y的信息不确定性减少的程度
        + $g(D,A)=H(D)-H(D|A)$
            * $D$ 数据集
            * $A$ 特征
        + 互信息(mutual infomation)
            * $H(Y)-H(Y|X)$
    + 信息增益比
        * 用信息增益作为划分数据集的特征，偏向于选择**取值较多特征**的问题。使用**信息增益比**可以对这一问题进行校正
        * 信息增益 / 训练集数据集D关于A的值的熵 $H_A(D)$
        * $g_R(D,A)=\frac{g(D,A)}{H_A(D)}$
        * $H_A(D)$就是根据特征A在各个取值下的频率算个条件熵（个人理解，原公式看书）
        + $H_{A}(D)=-\sum_{i=1}^{n} \frac{\left|D_{i}\right|}{|D|} \log _{2} \frac{\left|D_{i}\right|}{|D|}$
            * $n$是特征$A$取值的个数
+ 剪枝
    * 损失函数
    + 树$T$的叶子节点个数为$|T|$，$t$是树$T$的叶子节点，有$N_t$个样本，其中$k$类有$N_{tk}$个，$H_t(T)$为叶节点$t$上的经验熵
        + 损失函数
            * $C_{\alpha}(T)=\sum_{t=1}^{|T|} N_{t} H_{t}(T)+\alpha|T|$
        + 经验熵
            * $H_{t}(T)=-\sum_{k} \frac{N_{t k}}{N_{t}} \log \frac{N_{t k}}{N_{t}}$
        + 损失函数左端记为
            * $C(T)=\sum_{t=1}^{|T|} N_{t} H_{t}(T)=-\sum_{t=1}^{|T|} \sum_{k=1}^{K} N_{t k} \log \frac{N_{t k}}{N_{t}}$
            * 表示模型对**训练数据**的**预测误差**
            * 熵为0表示没误差
        + 这时有
            * $C_{\alpha}(T)=C(T)+\alpha|T|$
